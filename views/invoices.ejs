<main id="mainContainer">
  <h1>Invoices</h1>
  <div id="header-container">
    <form id="searchForm" action="/invoices/search" method="GET">
      <input
        class="searchbar"
        type="text"
        name="q"
        placeholder="Search by Name or Inv. #"
      />
      <button class="btn btn-primary" type="submit">Search</button>
    </form>
    <a id="create-button" href="/invoices/create"
      ><button id="newInvoice" class="btn btn-success">New Invoice</button></a
    >
  </div>
  <div id="list-container">
    <ul>
      <% invoices.forEach(invoice => { %> <% if (invoice && invoice._id) { %>
      <li class="invoices-list">
        <a href="/invoices/<%= invoice._id %>" target="_blank">
          <%= "Invoice#"+invoice.invoiceNumber + " - " + invoice.profile.name%>
        </a>
        <a href="/invoices/<%= invoice._id%>/delete"
          ><button id="invDelBtn" class="btn btn-danger">Delete</button></a
        >
      </li>
      <% } %> <% }) %>
    </ul>
    <nav>
      <ul class="pagination">
        <% for(let i = 1; i <= totalPages; i++) { %>
          <li class="<%= i === currentPage ? 'active' : '' %>">
            <a href="/invoices?page=<%= i %>"><%= i %></a>
          </li>
        <% } %>
      </ul>
    </nav>
  </div>
</main>
